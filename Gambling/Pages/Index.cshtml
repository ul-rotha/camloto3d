@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
<link rel="stylesheet" href="~/css/BallLotto.css" asp-append-version="true" />
<div class="container">

    <div class="row">
        <div class="col-12 col-sm-10">
            <div class="container">
                <div class="row">
                    <img src="../images/logo.png" id="logo" />
                </div>
                <div class="d-flex justify-content-center​">
                    <div class="row d-flex justify-content-center">
                        <div class="main lotto-ball"><span class="lotto-text-inner-ball">ក្រាស់</span></div>
                        <div class="d-inline-flex pt-2">
                            <div class="sub-play1 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x3</span></div>
                            <div class="sub-play1 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x5</span></div>
                            <div class="sub-play1 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x10</span></div>
                        </div>

                    </div>
                    <div class="row d-flex justify-content-center">
                        <div class="main lotto-ball"><span class="lotto-text-inner-ball">ស្មើ</span></div>
                        <div class="d-inline-flex pt-2">
                            <div class="sub-play2 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x2</span></div>
                            <div class="sub-play2 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x10</span></div>
                            <div class="sub-play2 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x20</span></div>
                        </div>

                    </div>
                    <div class="row d-flex justify-content-center">
                        <div class="main lotto-ball"><span class="lotto-text-inner-ball">ស្តើង</span></div>
                        <div class="d-inline-flex pt-2">
                            <div class="sub-play3 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x3</span></div>
                            <div class="sub-play3 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x5</span></div>
                            <div class="sub-play3 lotto-ball-sub"><span class="lotto-text-inner-ball-sub">x10</span></div>
                        </div>

                    </div>

                </div>
            </div>

        </div>
        <div class="col-12 col-sm-2">
            <p class="recent-title pt-2">Recent</p>
            <div class="row">
                <div class="d-flex justify-content-between p-0 m-0">
                    <div>
                        <p>#18520 07:40:41</p>
                    </div>
                    <div>
                        <p><a href="#" class="text-warning">>></a></p>
                    </div>
                </div>
                <div class="latest">
                    <span>ក្រាស់</span>
                    <span>x10</span>
                </div>
            </div>
        </div>
    </div>
</div>

<button onclick="myStop()">Stop Main</button>
<button onclick="myStart()">Start Main</button>



<button onclick="myStopSub()">Stop Sub</button>
<button onclick="myStartSub()">Start Sub</button>

<script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
<script src="~/js/chat.js"></script>
<script src="~/js/timer.js"></script>

@section scripts
{
<script>
    var arr = $(".main");
    var current = 0;
    var result = 0;

    var resultSub = 0;
    var currentSub = 0;

    var timer;
    $(document).ready(function(){
        timer = new Timer(function() {
            bgChange();
        }, 90);

    });


    function bgChange(){
        if (arr.length > 0){
        arr.removeClass("lotto-ball-active");
        arr.eq(current).addClass("lotto-ball-active");

        current = current + 1;
        result = current;
        if(current == arr.length)
            current = 0;
        }
    }


    function bgSubChange(){

            var arrSub = $(".sub-play" + result);
            if (arrSub.length > 0)
            {
                arrSub.removeClass("lotto-ball-sub-active");
                arrSub.eq(currentSub).addClass("lotto-ball-sub-active");

                currentSub = currentSub + 1;
                //result = currentSub;
                if(currentSub == arrSub.length)
                    currentSub = 0;
            }
        }


    function myStop() {

       timer.stop();
       random_sub();

    }


    function myStart() {
       current = 0;
       result = 0;
       timer.start();
    }


    function myStopSub() {
       timerSub.stop();
    }


    function myStartSub() {
       currentSub = 0;
       result = 0;
       timerSub.start();
    }


    function random_sub()
    {
        timerSub = new Timer(function() {
            bgSubChange();
        }, 90);
    }
</script>
}